{
  "info": {
    "_postman_id": "b1c0a0c1-d2f1-4a3b-9c4c-a11b2b2c3d4e",
    "name": "API Simulador de Empr√©stimos - Hackathon",
    "description": "Cole√ß√£o completa da API Simulador de Empr√©stimos com sistemas SAC e PRICE.\n\nüè¶ **Simula√ß√µes de Empr√©stimo:**\n- C√°lculos precisos com SAC e PRICE\n- M√∫ltiplos produtos financeiros\n- Persist√™ncia em H2 e Azure SQL Server\n\nüìä **Telemetria e Monitoramento:**\n- M√©tricas de performance dos endpoints\n- Integra√ß√£o com Azure Event Hub\n- Status de sa√∫de da aplica√ß√£o\n\nüîó **Links √öteis:**\n- [Swagger UI](http://localhost:8080/swagger-ui.html)\n- [Documenta√ß√£o Completa](./README.md)\n- [Health Check](http://localhost:8080/actuator/health)\n\n**Vers√£o:** 1.0.0\n**Desenvolvido para:** Hackathon 2025",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345678"
  },
  "item": [
    {
      "name": "üè¶ Simula√ß√µes",
      "item": [
        {
          "name": "Criar Simula√ß√£o de Empr√©stimo",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"valorDesejado\": 15000,\n    \"prazo\": 12\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/simulacoes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "simulacoes"
              ]
            },
            "description": "**Endpoint principal para simula√ß√£o de empr√©stimos**\n\nCalcula automaticamente:\n- ‚úÖ Sistema SAC (Amortiza√ß√£o Constante)\n- ‚úÖ Sistema PRICE (Franc√™s)\n- ‚úÖ M√∫ltiplos produtos financeiros\n- ‚úÖ Parcelas detalhadas\n- ‚úÖ Envio para Azure Event Hub\n\n**Par√¢metros:**\n- `valorDesejado`: Valor do empr√©stimo (min: R$ 1.000)\n- `prazo`: Prazo em meses (min: 1 m√™s)\n\n**Retorna:**\n- Simula√ß√µes SAC e PRICE\n- Detalhamento de parcelas\n- Valores totais e juros\n- Produtos recomendados"
          },
          "response": []
        },
        {
          "name": "Listar Todas as Simula√ß√µes (Paginado)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/simulacoes?pagina=0&tamanho=10",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "simulacoes"
              ],
              "query": [
                {
                  "key": "pagina",
                  "value": "0",
                  "description": "N√∫mero da p√°gina (inicia em 0)"
                },
                {
                  "key": "tamanho",
                  "value": "10",
                  "description": "Registros por p√°gina (max: 200)"
                }
              ]
            },
            "description": "**Lista paginada de todas as simula√ß√µes realizadas**\n\nüìã **Caracter√≠sticas:**\n- Pagina√ß√£o autom√°tica (200 registros max/p√°gina)\n- Ordena√ß√£o por ID decrescente\n- Dados resumidos para performance\n- Contadores totais\n\n**Query Parameters:**\n- `pagina` (opcional): N√∫mero da p√°gina iniciando em 0\n- `tamanho` (opcional): Registros por p√°gina (padr√£o: 200)\n\n**Retorna:**\n- Lista de simula√ß√µes resumidas\n- Metadados de pagina√ß√£o\n- Totalizadores"
          },
          "response": []
        },
        {
          "name": "Volume Simulado por Dia e Produto",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/simulacoes/dia/2025-08-25",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "simulacoes",
                "dia",
                "2025-08-25"
              ]
            },
            "description": "**An√°lise agregada de simula√ß√µes por data espec√≠fica**\n\nüìä **M√©tricas por produto:**\n- Volume total simulado\n- Quantidade de simula√ß√µes\n- Valor m√©dio por simula√ß√£o\n- Ticket m√©dio por produto\n\n**Path Parameter:**\n- `data`: Data no formato YYYY-MM-DD\n\n**Exemplo de uso:**\n- An√°lise de demanda di√°ria\n- Relat√≥rios gerenciais\n- Acompanhamento de produtos\n- Business Intelligence\n\n‚ö†Ô∏è **Nota:** Endpoint antigo `/simulacoes/agregado-por-dia-e-produto` foi descontinuado"
          },
          "response": []
        },
        {
          "name": "[DEPRECATED] Endpoint Antigo - Agregado por Dia",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/simulacoes/agregado-por-dia-e-produto",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "simulacoes",
                "agregado-por-dia-e-produto"
              ]
            },
            "description": "‚ö†Ô∏è **ENDPOINT DEPRECATED**\n\nüö´ **Este endpoint foi descontinuado!**\n\n**Use em seu lugar:**\n- `GET /simulacoes/dia/{data}` com data espec√≠fica\n- Exemplo: `/simulacoes/dia/2025-08-25`\n\n**Resposta:**\n- Status 301 (Moved Permanently)\n- Informa√ß√µes sobre o novo endpoint\n- Instru√ß√µes de migra√ß√£o\n\n**Motivo da mudan√ßa:**\n- Melhor organiza√ß√£o da API\n- Par√¢metro de data obrigat√≥rio\n- Padroniza√ß√£o de nomenclatura"
          },
          "response": []
        },
        {
          "name": "[DEPRECATED] Endpoint Antigo - Telemetria",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/simulacoes/telemetria",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "simulacoes",
                "telemetria"
              ]
            },
            "description": "‚ö†Ô∏è **ENDPOINT DEPRECATED**\n\nüö´ **Este endpoint foi movido!**\n\n**Use em seu lugar:**\n- `GET /monitoramento/telemetria`\n- Opcional: `?dataReferencia=2025-08-25`\n\n**Resposta:**\n- Status 301 (Moved Permanently)\n- Informa√ß√µes sobre o novo endpoint\n- URL de redirecionamento\n\n**Motivo da mudan√ßa:**\n- Reorganiza√ß√£o da API\n- Telemetria agrupada em `/monitoramento`\n- Melhor separa√ß√£o de responsabilidades"
          },
          "response": []
        }
      ],
      "description": "Endpoints relacionados √†s simula√ß√µes de empr√©stimo com sistemas SAC e PRICE"
    },
    {
      "name": "üìä Monitoramento e Telemetria",
      "item": [
        {
          "name": "Telemetria dos Endpoints",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/monitoramento/telemetria?dataReferencia=2025-08-25",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "monitoramento",
                "telemetria"
              ],
              "query": [
                {
                  "key": "dataReferencia",
                  "value": "2025-08-25",
                  "description": "Data para an√°lise (opcional, padr√£o: hoje)"
                }
              ]
            },
            "description": "**M√©tricas detalhadas de performance dos endpoints**\n\nüìà **Dados coletados:**\n- Volume de requisi√ß√µes por endpoint\n- Tempo m√©dio de resposta\n- Tempo m√≠nimo e m√°ximo\n- Taxa de sucesso (%)\n- An√°lise por data espec√≠fica\n\n**Query Parameters:**\n- `dataReferencia` (opcional): Data no formato YYYY-MM-DD\n\n**Uso:**\n- Monitoramento de performance\n- Identifica√ß√£o de gargalos\n- SLA tracking\n- Otimiza√ß√£o de recursos"
          },
          "response": []
        },
        {
          "name": "Status do Azure Event Hub",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/monitoramento/eventhub-status",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "monitoramento",
                "eventhub-status"
              ]
            },
            "description": "**Verifica√ß√£o de status do Azure Event Hub**\n\nüîç **Informa√ß√µes retornadas:**\n- Status da configura√ß√£o do Event Hub\n- Estado da conex√£o\n- Configura√ß√µes ativas\n- Links para testes\n\n**Status poss√≠veis:**\n- `eventhub_enabled: true` - Configurado e ativo\n- `eventhub_enabled: false` - Desabilitado ou n√£o configurado\n\n**Uso:**\n- Health check da integra√ß√£o\n- Troubleshooting de conectividade\n- Valida√ß√£o de deployment"
          },
          "response": []
        },
        {
          "name": "Testar Conex√£o Event Hub",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/monitoramento/test-eventhub",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "monitoramento",
                "test-eventhub"
              ]
            },
            "description": "**Teste pr√°tico da integra√ß√£o com Azure Event Hub**\n\nüß™ **Funcionalidade:**\n- Envia mensagem de teste para o Event Hub\n- Valida conectividade em tempo real\n- Retorna detalhes do resultado\n\n**Respostas poss√≠veis:**\n- `SUCCESS`: Mensagem enviada com sucesso\n- `ERROR`: Falha na conex√£o (detalhes inclu√≠dos)\n- `DISABLED`: Event Hub n√£o configurado\n\n**Uso:**\n- Valida√ß√£o p√≥s-deploy\n- Troubleshooting de conectividade\n- Testes de integra√ß√£o\n- Verifica√ß√£o de credenciais"
          },
          "response": []
        }
      ],
      "description": "Endpoints para monitoramento da aplica√ß√£o, telemetria e integra√ß√£o com Azure Event Hub"
    },
    {
      "name": "üè• Health Check",
      "item": [
        {
          "name": "Status da Aplica√ß√£o",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/actuator/health",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "actuator",
                "health"
              ]
            },
            "description": "**Endpoint padr√£o do Spring Boot Actuator**\n\n‚ù§Ô∏è **Health Check b√°sico:**\n- Status geral da aplica√ß√£o\n- Conectividade com banco de dados\n- Status dos componentes principais\n\n**Respostas:**\n- `UP`: Aplica√ß√£o saud√°vel\n- `DOWN`: Problemas detectados\n\n**Uso:**\n- Load balancer health check\n- Monitoramento de infraestrutura\n- Alerts autom√°ticos"
          },
          "response": []
        },
        {
          "name": "Informa√ß√µes da Aplica√ß√£o",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/actuator/info",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "actuator",
                "info"
              ]
            },
            "description": "**Informa√ß√µes t√©cnicas da aplica√ß√£o**\n\n‚ÑπÔ∏è **Dados expostos:**\n- Vers√£o da aplica√ß√£o\n- Informa√ß√µes de build\n- Profile ativo\n- Configura√ß√µes gerais\n\n**Uso:**\n- Verifica√ß√£o de vers√£o deployada\n- Informa√ß√µes de debug\n- Documenta√ß√£o t√©cnica"
          },
          "response": []
        }
      ],
      "description": "Endpoints b√°sicos de sa√∫de e informa√ß√µes da aplica√ß√£o (Spring Boot Actuator)"
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "type": "string",
      "description": "URL base da API (local development)"
    },
    {
      "key": "base_url_prod",
      "value": "https://your-app.azurewebsites.net",
      "type": "string",
      "disabled": true,
      "description": "URL base da API (production)"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Script para configura√ß√£o autom√°tica",
          "console.log('üöÄ Executando API Simulador de Empr√©stimos');",
          "console.log('üìñ Documenta√ß√£o: http://localhost:8080/swagger-ui.html');"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Testes b√°sicos autom√°ticos",
          "pm.test('Status code √© 200 ou 201', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
          "});",
          "",
          "pm.test('Response tem Content-Type JSON', function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "});",
          "",
          "pm.test('Response time √© menor que 5000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});"
        ]
      }
    }
  ]
}